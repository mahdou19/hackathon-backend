FROM node:18

WORKDIR /app

COPY package*.json ./

RUN npm install

COPY . .

EXPOSE 3000

ARG SECRET_KEY
ARG NFC_SECRET_KEY
ARG PORT
ARG DB_USER_PASS

ENV SECRET_KEY=$SECRET_KEY
ENV NFC_SECRET_KEY=$NFC_SECRET_KEY
ENV PORT=$PORT
ENV DB_USER_PASS=$DB_USER_PASS

CMD ["npm", "start"]
